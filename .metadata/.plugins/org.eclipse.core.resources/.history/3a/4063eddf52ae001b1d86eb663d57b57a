package com.arpit.jsontojava.ConvertJSON;

import java.io.IOException;
import java.net.HttpURLConnection;
import java.net.URL;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.Scanner;

import org.apache.tomcat.util.json.JSONParser;
import org.json.JSONArray;
import org.json.JSONObject;
import org.json.simple.JSONValue;
import org.json.simple.parser.ParseException;
import org.json.*;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import com.fasterxml.jackson.annotation.JsonValue;
import com.fasterxml.jackson.core.JsonGenerationException;
import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.databind.JsonMappingException;
import com.fasterxml.jackson.databind.ObjectMapper;


import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.URL;
import java.net.URLConnection;






@SpringBootApplication
public class ConvertJsonApplication {

	public static void main(String[] args) throws JsonGenerationException, JsonMappingException, IOException {
		SpringApplication.run(ConvertJsonApplication.class, args);
		
		
		/*
		 * Employee emp1 = new Employee(); emp1.setFirstName("Raja");
		 * emp1.setLastName("Ramesh"); emp1.setId(115);
		 * emp1.getTechnologies().add("Java"); emp1.getTechnologies().add("Selenium");
		 * emp1.getTechnologies().add("Spark"); ObjectMapper mapper = new
		 * ObjectMapper();
		 * 
		 * // String jsonStr =
		 * mapper.writerWithDefaultPrettyPrinter().writeValueAsString(emp1); String
		 * jsonStr = mapper.writeValueAsString(emp1); System.out.println(jsonStr);
		 * System.out.println("Deserializing JSON to Object:"); Employee emp2 =
		 * mapper.readValue(jsonStr, Employee.class); System.out.println(emp2.getId() +
		 * " " + emp2.getFirstName() + " " + emp2.getLastName() + " " +
		 * emp2.getTechnologies());
		 * 
		 * 
		 * Employee obj = mapper.readValue(jsonStr, Employee.class);
		 * 
		 * URL url = new URL("http://jsonplaceholder.typicode.com/posts");
		 * System.out.println(url);
		 * 
		 * HttpURLConnection conn = (HttpURLConnection)url.openConnection();
		 * conn.setRequestMethod("GET"); conn.connect(); int responsecode =
		 * conn.getResponseCode();
		 * 
		 * Scanner sc = new Scanner(url.openStream()); String inline= "";
		 * while(sc.hasNext()) { inline+=sc.nextLine(); }
		 * System.out.println("\nJSON data in string format");
		 * System.out.println(inline);
		 * 
		 */
	      ///
	      
	      
	      
	      

	               
	            
	            
		Object object = new org.json.simple.parser.JSONParser().parse(new FileReader("http://jsonplaceholder.typicode.com/posts")); 
	            JSONObject skr = (JSONObject) object;  
	            String Name = (String) skr.get("name"); 
	            long favouriteno = (long) skr.get("favourite no"); 
	            String isprogrammer=(String) skr.get("is programmer"); 
	            System.out.println(Name); 
	            System.out.println(favouriteno); 
	            System.out.println(isprogrammer);
	            long age = (long) skr.get("age"); 
	            System.out.println(age); 
	            Map address = ((Map)skr.get("address")); 
	            Iterator<Map.Entry> itr1 = address.entrySet().iterator(); 
	            while (itr1.hasNext()) { 
	                Map.Entry pair = itr1.next(); 
	                System.out.println(pair.getKey() + " : " + pair.getValue()); 
	        
	      	      
	      
	      }
	}
}

	

